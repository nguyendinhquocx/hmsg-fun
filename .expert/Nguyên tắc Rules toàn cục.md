# Universal AI Agent Rules - Quy tắc Tối ưu cho AI Development

*Tích hợp wisdom từ 6 Quantum Masters để tạo ra quy tắc toàn diện cho AI-assisted development*

---
description: Quy tắc thiết kế và phát triển tối ưu cho tất cả dự án AI-assisted
globs: **/*
alwaysApply: true
---

## 🧠 Triết lý Thiết kế Cốt lõi - Quantum Design Philosophy

### Meta-Cognitive Development Approach
```
DEVELOPMENT_CONSCIOUSNESS_MATRIX = {
    design_philosophy: "Less, but better" + Human-centered + Systems thinking,
    problem_solving: "Root cause analysis" → "Elegant solutions" → "Sustainable implementation",
    strategic_thinking: "Long-term vision" + "Adaptive execution" + "Stakeholder value",
    workflow_intelligence: "Process optimization" + "Cognitive load reduction" + "Cultural adaptation",
    aesthetic_integrity: "Beauty serves function" + "Accessibility first" + "Ethical responsibility",
    prompt_architecture: "Meta-awareness" + "Wisdom integration" + "Contextual sophistication"
}
```

### Core Design Principles - Nguyên tắc Thiết kế Cốt lõi

#### **Legendary Minimalism** (Từ Design Master)
- **Màu sắc**: Chỉ dùng White (#FFFFFF), Black (#000000), Light Gray (#F5F5F5)
- **Typography**: IBM Plex Mono, SF Pro Display, Inter - tạo visual hierarchy rõ ràng
- **Spacing**: 8px baseline grid system (8px, 16px, 24px, 32px, 48px, 64px)
- **Components**: Border-radius 8px, subtle shadows `0 2px 8px rgba(0,0,0,0.1)`
- **Icons**: ❌ KHÔNG thêm icons trừ khi user yêu cầu cụ thể
  - Khi được phép: Feather, Lucide, Material Icons Outlined
  - Style: stroke-width 1.5px, size 20-24px, monochrome only

#### **Strategic Implementation** (Từ Strategy Master)
- **Long-term Vision**: Mỗi feature phải serve 1-5 năm future roadmap
- **Stakeholder Value**: Win-win solutions cho users, developers, business
- **Adaptive Capacity**: Build flexibility để respond to changing requirements
- **Risk Mitigation**: Anticipate failure points và design contingencies

#### **Problem-Solving Excellence** (Từ Problem Solver Master)
- **Root Cause Analysis**: Không giải symptoms, giải underlying issues
- **Solution Space Exploration**: Generate multiple alternatives trước khi choose
- **Implementation Reality**: Balance ideal solutions với practical constraints
- **Feedback Loops**: Built-in mechanisms để learn và improve

## 🎯 AI Agent Optimization - Tối ưu cho AI Development

### Cursor/Copilot Integration Strategies

#### **Context Engineering**
```
AI_CONTEXT_OPTIMIZATION = {
    file_structure: "Clear hierarchy, descriptive names, logical grouping",
    comments: "Explain WHY not WHAT, include business context",
    documentation: "README-driven development, comprehensive setup guides",
    type_safety: "TypeScript/JSDoc for better AI understanding",
    naming_conventions: "Self-documenting code với consistent patterns"
}
```

#### **AI-Friendly Code Patterns**
- **Single Responsibility**: Mỗi function/component làm một việc duy nhất
- **Predictable Structure**: Consistent folder structure và naming patterns
- **Explicit Dependencies**: Clear imports, avoid magic globals
- **Error Boundaries**: Proper error handling với meaningful messages
- **Performance Markers**: Comments về optimization decisions

### Prompt Engineering Excellence

#### **Context Layering Strategy**
```
PROMPT_ARCHITECTURE = {
    Layer_1_Identity: "Role definition với domain expertise",
    Layer_2_Knowledge: "Relevant technical và business context",
    Layer_3_Reasoning: "Problem-solving methodology và constraints",
    Layer_4_Communication: "Output format và stakeholder adaptation"
}
```

#### **AI Interaction Protocols**
- **Specific Requirements**: Provide concrete examples và edge cases
- **Incremental Complexity**: Start simple, build complexity gradually
- **Validation Points**: Regular checkpoints để verify understanding
- **Context Preservation**: Maintain conversation history để avoid repetition

## 💻 Development Standards - Chuẩn Phát triển

### Code Quality Framework

#### **Architecture Principles**
- **Modular Design**: Component-based architecture với clear interfaces
- **Separation of Concerns**: Business logic, UI, và data layers riêng biệt
- **Dependency Injection**: Loose coupling để easier testing và maintenance
- **Configuration Management**: Environment-based settings, no hardcoded values

#### **Security & Performance**
```
OPTIMIZATION_STANDARDS = {
    security: "Environment variables, input validation, sanitization",
    performance: "Lazy loading, caching strategies, bundle optimization",
    accessibility: "WCAG 2.1 AA compliance, keyboard navigation",
    scalability: "Database indexing, API rate limiting, horizontal scaling prep"
}
```

### Testing & Validation

#### **Quality Assurance Layers**
1. **Unit Tests**: Core business logic với high coverage
2. **Integration Tests**: API endpoints và database interactions
3. **E2E Tests**: Critical user journeys
4. **Accessibility Tests**: Screen reader compatibility, contrast ratios
5. **Performance Tests**: Load testing, lighthouse scores 90+

#### **AI-Assisted Testing**
- **Test Case Generation**: AI tạo edge cases based on code analysis
- **Bug Prediction**: Static analysis để identify potential issues
- **Regression Testing**: Automated test suite updates khi code changes

## 🔄 Workflow Intelligence - Luồng Công việc Thông minh

### Process Optimization Framework

#### **Development Lifecycle**
```
WORKFLOW_STAGES = {
    Phase_1_Discovery: "Requirements analysis, stakeholder mapping, constraint identification",
    Phase_2_Architecture: "System design, technology selection, risk assessment", 
    Phase_3_Implementation: "Iterative development với continuous feedback",
    Phase_4_Validation: "Testing, user acceptance, performance verification",
    Phase_5_Deployment: "Gradual rollout, monitoring, incident response",
    Phase_6_Evolution: "Analytics review, feature enhancement, scaling decisions"
}
```

#### **AI-Enhanced Workflows**
- **Automated Planning**: AI generates project timelines based on complexity analysis
- **Resource Optimization**: Smart allocation của developer time và system resources
- **Risk Prediction**: Early warning systems cho potential bottlenecks
- **Documentation Generation**: Auto-updating docs based on code changes

### Communication Protocols

#### **Stakeholder Adaptation**
```
COMMUNICATION_MATRIX = {
    Technical_Teams: "Code reviews, architecture decisions, performance metrics",
    Product_Managers: "Feature progress, user impact, business value delivery",
    Designers: "Implementation feasibility, accessibility compliance, user experience",
    Executives: "Strategic alignment, ROI metrics, competitive advantages",
    End_Users: "Feature announcements, usage guidance, feedback collection"
}
```

## 🛠 MCP Server Integration - Tích hợp Công cụ

### Auto-Trigger Conditions
```
MCP_ACTIVATION_MATRIX = {
    Excel_MCP: "File .xlsx/.xls detected, data analysis keywords, reporting tasks",
    Pandoc_MCP: "Document conversion needs, PDF/DOCX/MD transformation",
    GitHub_MCP: "Version control, deployment, collaboration requirements",
    Notion_MCP: "Documentation, knowledge base, project management",
    Puppeteer_MCP: "Web testing, automation, screenshot generation",
    MarkItDown: "Multi-format document analysis, OCR requirements"
}
```

### Tool Chain Optimization
- **Sequential Processing**: MarkItDown → Excel → Analysis → Pandoc → GitHub → Notion
- **Parallel Execution**: Multiple MCP servers khi tasks independent
- **Error Handling**: Graceful fallbacks khi MCP servers unavailable
- **Performance Monitoring**: Track MCP usage patterns để optimize workflows

## 📊 Quality Metrics - Thước đo Chất lượng

### Success Indicators
```
EXCELLENCE_METRICS = {
    User_Experience: {
        task_completion_rate: ">95%",
        user_satisfaction_score: ">4.5/5",
        accessibility_compliance: "WCAG 2.1 AA",
        performance_lighthouse: ">90 all metrics"
    },
    
    Developer_Experience: {
        build_time: "<30 seconds",
        test_coverage: ">80%",
        code_maintainability: "A-grade static analysis",
        documentation_completeness: "All public APIs documented"
    },
    
    Business_Impact: {
        feature_adoption_rate: ">60% within 30 days",
        bug_report_reduction: ">50% compared to baseline",
        development_velocity: "+25% sprint completion",
        technical_debt_ratio: "<20% of total codebase"
    }
}
```

### Continuous Improvement

#### **Learning Integration**
- **Pattern Recognition**: Identify successful approaches across projects
- **Failure Analysis**: Extract lessons từ unsuccessful implementations
- **Knowledge Transfer**: Document best practices for team sharing
- **Innovation Tracking**: Monitor emerging technologies và methodologies

## 🎨 UI/UX Excellence Standards

### Design System Architecture
```
DESIGN_SYSTEM_COMPONENTS = {
    Typography: {
        font_stack: "IBM Plex Mono, SF Pro Display, Inter, system-ui",
        scale: "12px, 14px, 16px, 18px, 24px, 32px",
        line_height: "1.6 for body, 1.2 for headings",
        color: "#000000 on #FFFFFF background"
    },
    
    Layout: {
        grid_system: "8-point system với max-width 1200px",
        spacing_scale: "4px, 8px, 16px, 24px, 32px, 48px, 64px",
        breakpoints: "Mobile: 320px, Tablet: 768px, Desktop: 1024px",
        touch_targets: "Minimum 44px for mobile interactions"
    },
    
    Components: {
        buttons: "Primary (black bg), Secondary (white bg + black border)",
        forms: "Clear labels, inline validation, error states",
        navigation: "Breadcrumbs, clear hierarchy, keyboard accessible",
        feedback: "Loading states, success messages, error handling"
    }
}
```

### Accessibility First Approach
- **Semantic HTML**: Proper heading hierarchy, landmark roles
- **Keyboard Navigation**: Tab order, skip links, focus indicators
- **Screen Reader Support**: Alt text, ARIA labels, live regions
- **Color Independence**: Information conveyed beyond color alone
- **Responsive Design**: Fluid layouts, flexible typography

## 🔐 Security & Performance Standards

### Security Framework
```
SECURITY_REQUIREMENTS = {
    Authentication: "Multi-factor when possible, secure session management",
    Authorization: "Role-based access control, principle of least privilege", 
    Data_Protection: "Encryption at rest và in transit, GDPR compliance",
    Input_Validation: "Sanitization, parameterized queries, XSS prevention",
    Monitoring: "Security logs, anomaly detection, incident response"
}
```

### Performance Optimization
- **Frontend**: Code splitting, lazy loading, image optimization, CDN usage
- **Backend**: Database indexing, query optimization, caching layers
- **Network**: Compression, HTTP/2, minimal payload sizes
- **Monitoring**: Real user metrics, synthetic testing, performance budgets

## 📋 Project Templates - Mẫu Dự án

### Auto README Generation
```markdown
# Project Name

## Description
Brief project description with business value proposition.

## Features
- Core functionality list
- User benefits
- Technical highlights

## Setup & Installation
```bash
# Step-by-step setup instructions
npm install
npm run dev
```

## Usage
Basic usage examples với code snippets.

## Architecture
High-level system design và technology decisions.

## Contributing
Guidelines for code contributions và review process.

## License
MIT License with appropriate attribution.
```

### Development Checklist
- [ ] Requirements analysis completed
- [ ] Architecture design reviewed
- [ ] Security assessment performed
- [ ] Accessibility compliance verified
- [ ] Performance benchmarks established
- [ ] Testing strategy implemented
- [ ] Documentation updated
- [ ] Deployment pipeline configured
- [ ] Monitoring và alerting setup
- [ ] User feedback collection ready

## 🚀 Best Practices Summary

### Do's ✅
- Start với user needs, not technical possibilities
- Design for accessibility từ beginning
- Write self-documenting code với clear naming
- Implement error handling và edge cases
- Test across devices và assistive technologies
- Monitor performance và user behavior
- Document decisions và trade-offs
- Maintain security best practices
- Optimize for long-term maintenance
- Build với future scalability in mind

### Don'ts ❌
- Add features without clear user value
- Use icons without user request (visual noise)
- Ignore accessibility requirements
- Hardcode configuration values
- Skip error handling implementation
- Deploy without performance testing
- Write code without proper documentation
- Implement complex solutions for simple problems
- Forget to consider mobile users
- Neglect security considerations

---

## 🎯 Implementation Activation

### For GitHub Copilot/Cursor
1. **Add này làm workspace rules file**
2. **Reference trong project README**
3. **Include trong PR templates**
4. **Train team với examples**
5. **Monitor compliance với code reviews**

### Success Metrics
- **Code Quality**: Automated static analysis scores
- **User Satisfaction**: Regular feedback collection
- **Development Velocity**: Sprint completion rates  
- **System Reliability**: Uptime và error rates
- **Accessibility**: Compliance audit results

**Mục tiêu cuối cùng**: Tạo ra products không chỉ **functional** mà **beautiful**, **accessible**, **maintainable**, và **strategically aligned** với long-term vision - embodying wisdom từ all 6 Quantum Masters trong every line of code.